{"version":3,"sources":["components/header/Header.js","components/movie-details/MovieDetails.js","components/movie-list/MovieElement/MovieElement.js","components/movie-list/MovieList.js","components/utils/Loading.js","conf/api.movie.js","components/search-bar/SearchBar.js","App.js","index.js"],"names":["Header","className","href","Component","MovieDetails","this","props","movie","title","src","img","details","description","style","width","height","overflow","margin","cursor","MovieElement","mouseEnter","updateSelectedMovie","onMouseEnter","alt","MovieList","movies","map","m","index","minHeight","apiMovie","axios","baseURL","interceptors","request","use","req","headers","apiMovieMap","poster_path","release_date","vote_average","vote_count","overview","SearchBar","submit","values","actions","console","log","query","Object","keys","k","join","get","then","response","data","results","moviesApi","updateMovies","setSubmitting","catch","err","onSubmit","initialValues","language","handleSubmit","handleChange","handleBlur","isSubmitting","name","placeholder","onChange","onBlur","id","value","type","disabled","App","setState","selectedMovie","loaded","state","Loading","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d99db3c8.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nexport default class Header extends Component {\n\n  render() {\n    return (\n        <header className=\"navbar navbar-expand-lg navbar-light bg-light\">\n          <a className=\"navbar-brand\" href=\"/\">AlloMovie</a>\n          <button className=\"navbar-toggler\">\n            <span className=\"navbar-toggler-icon\"></span>\n          </button>\n          <div className=\"collapse navbar-collapse\">\n          <ul className=\"navbar-nav ml-auto\">\n            <li className=\"nav-item active\">\n              <a className=\"nav-link\" href=\"/\">Home</a>\n            </li>\n            <li className=\"nav-item\">\n              <a className=\"nav-link\" href=\"/\">Favoris</a>\n            </li>\n          </ul>\n        </div>\n      </header>\n    );\n  }\n\n}","/* eslint-disable jsx-a11y/alt-text */\nimport React, { Component } from 'react';\n\nexport default class MovieDetails extends Component {\n\n  render() {\n    return (\n      <div className=\"w-25 border p-4 d-flex flex-column\">\n        <h5>{ this.props.movie.title }</h5>\n        <hr className=\"w-100\" />\n        <div>\n        <img className=\"d-block mx-auto w-100\" src={ this.props.movie.img } /> \n        </div>\n        <hr className=\"w-100\" />\n        <span className=\"text-secondary\">{ this.props.movie.details }</span>\n        <span>{ this.props.movie.description }</span>\n      </div>\n    );\n  }\n\n}","import React, { Component } from 'react';\n\nconst style = {\n  width: '480px',\n  height: '280px',\n  overflow: 'hidden',\n  margin: '0px 5px 10px 5px',\n  cursor: 'pointer',\n}\n\nexport default class MovieElement extends Component {\n\n  mouseEnter = () => {\n    this.props.updateSelectedMovie(this.props.movie.title);\n  }\n\n  render() {\n    return (\n      <div onMouseEnter={this.mouseEnter} className={\"d-flex flex-row bg-light\"} style={style}>\n        <img alt=\"film\" width=\"185\" src={this.props.movie.img} />\n        <div className=\"flex-fill d-flex flex-column p-3\">\n          <h5>{this.props.movie.title}</h5>\n          <hr className=\"w-100\" />\n          <p>{this.props.movie.details}</p>\n        </div>\n      </div>\n    );\n\n  }\n\n}","import React, { Component } from 'react';\nimport MovieElement from './MovieElement/MovieElement';\n\nexport default class MovieList extends Component {\n\n  render() {\n    return (\n      <div className='w-75 d-flex flex-row flex-wrap justify-content-center' > \n        {this.props.movies.map((m, index) => (\n          <MovieElement key={m.title + index}\n            movie={m}\n            updateSelectedMovie={() => { this.props.updateSelectedMovie(index) }} />\n        ))}\n      </div>\n    );\n  }\n\n}","import React from 'react';\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default () => {\n  return (\n    <div style={{ minHeight: '100vh' }} className=\"d-flex flex-row justify-content-center align-items-center w-100\">\n      <img alt=\"loading gif\" src=\"https://i.redd.it/ounq1mw5kdxy.gif\" />\n    </div>\n  );\n}","import * as axios from 'axios';\n\nconst apiMovie = axios.create({\n  baseURL: 'https://api.themoviedb.org/4'\n})\n\napiMovie.interceptors.request.use( req => {\n  req.headers['Authorization'] = 'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI5ODFkZmU0MDZiMDhjY2FlYjUwMjRmY2QzM2UzYzFlOCIsInN1YiI6IjVjMGU4NTlmYzNhMzY4MjUyYTBjOTM4NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.QG7-vvAvmEXOVUD2ZaONg5e_AHqXaTlPVLeDz7mzhDs'\n  return req;\n})\n\nexport default apiMovie;\n\n// export de la fonction Map dans une constante\nexport const apiMovieMap = (m) => ({\n    img: 'https://image.tmdb.org/t/p/w500' + m.poster_path,\n    title: m.title,\n    details: m.release_date + ' | ' + m.vote_average + ' /10 (' + m.vote_count + ')',\n    description: m.overview,\n  }) ","import React, { Component } from 'react';\nimport { Formik } from 'formik';\nimport apiMovie, { apiMovieMap } from '../../conf/api.movie';\n\nexport default class SearchBar extends Component {\n\n    submit = ( values, actions ) => {\n        console.log(values);\n        // récupérer objet value et transformer cette array, join transforme array en chaine de caractère.\n        const query = '?' + Object.keys(values).map( k => `${ k }=${ values[k]}&` ).join('');\n        apiMovie.get('/search/movie' + query)\n        .then( response => response.data.results ) \n        .then ( moviesApi => {\n          const movies = moviesApi.map(apiMovieMap)\n          this.props.updateMovies(movies);\n          actions.setSubmitting(false);\n        })\n        .catch( err => console.log(err) );\n    }\n\n    render() {\n        return (\n          <Formik\n            onSubmit={this.submit}\n            initialValues={{ query: '', language: 'en-US' }}\n          >\n                  {({ handleSubmit, handleChange, handleBlur, isSubmitting }) => (\n          <form className=\"d-flex flex-row p-2 m-2\" onSubmit={handleSubmit}>\n            <input name=\"query\" className=\"flex-fill form-control mr-2\"\n              placeholder=\"Search ...\" onChange={handleChange} onBlur={handleBlur} />\n            <select className=\"mr-2 form-control w-25\" name=\"language\" id=\"\" onChange={handleChange} onBlur={handleBlur}>\n              <option value=\"en-US\">Anglais</option>\n              <option value=\"fr-FR\">Français</option>\n            </select>\n            <button className=\"btn btn-small btn-success\" type=\"submit\"\n              disabled={isSubmitting} >Submit</button>\n          </form>\n        )}\n        </Formik>\n    )\n  }\n}","import React, { Component } from 'react';\nimport { Header, MovieList, MovieDetails, Loading, SearchBar } from './components';\nimport apiMovie, { apiMovieMap } from './conf/api.movie';\n\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      movies: null,\n      selectedMovie: 0,\n      loaded: false\n    }\n  }\n\n  updateSelectedMovie = (index) => {\n    this.setState({\n      selectedMovie: index\n    })\n  }\n\n  componentDidMount() {\n    apiMovie.get('/discover/movie')\n    .then( response => response.data.results ) \n    .then ( moviesApi => {\n      const movies = moviesApi.map(apiMovieMap)\n      this.updateMovies(movies);\n    })\n    .catch( err => console.log(err) );\n  }\n\n  updateMovies = (movies) => {\n    this.setState({\n      movies,\n      loaded: true\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"App d-flex flex-column\">\n        <Header />\n        <SearchBar updateMovies={ this.updateMovies }/>\n        { this.state.loaded ? (\n          <div className=\"d-flex flex-row flex-fill pt-4 p-2\" >\n            <MovieList \n              movies={ this.state.movies } \n              updateSelectedMovie={ this.updateSelectedMovie }/>\n            <MovieDetails movie={ this.state.movies[this.state.selectedMovie] }/>\n          </div>\n        ) : (\n          <Loading />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}